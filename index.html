<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="utf-8">
  <title>Моя первая программа</title>
  <link rel="stylesheet" href="css/styles.css">
</head>



<body>
  <ul></ul>
  <input id="creatLi" type="text">


  <script>
    "use strict";
    let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    let ul = document.querySelector('ul')
    let creatLi = document.querySelector('#creatLi')


    for (const item of arr) {
      let li = document.createElement('li')
      li.innerHTML = item
      func2(li)
      ul.appendChild(li)
    }

    creatLi.addEventListener('blur', function () {
      let li = document.createElement('li')
      li.innerHTML = this.value
      this.value = ''
      func2(li)
      ul.append(li)
    })

    function func2(li) {
      let span = document.createElement('span')
      span.innerHTML = li.innerHTML
      li.innerHTML = ''
      span.addEventListener('click', function func() {
        let input = document.createElement('input')
        input.value = this.innerHTML
        this.innerHTML = ''
        input.addEventListener('blur', function () {
          span.innerHTML = this.value
          span.addEventListener('click', func)
        })
        this.appendChild(input)
        input.focus()
        this.removeEventListener('click', func)
      })

      li.appendChild(span)
      li.appendChild(removeItem(li))
      li.appendChild(addLineThrough(span))

    }

    function removeItem(li) {
      let remove = document.createElement('a')
      remove.href = ''
      remove.innerHTML = 'Удалить'
      remove.classList.add('spacing')
      remove.addEventListener('click', function (event) {
        li.parentElement.removeChild(li)
        event.preventDefault()
      })
      return remove
    }

    function addLineThrough(span) {
      let lineTr = document.createElement('a')
      lineTr.href = ''
      lineTr.innerHTML = 'перечеркнуть'
      lineTr.classList.add('spacing')
      lineTr.addEventListener('click', function (event) {
        span.classList.add('decored')
        event.preventDefault()
      })
      return lineTr
    }

    function getRandomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }
  </script>
</body>

</html>